<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TechITFactory - Production Grade DevOps</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      min-height: 100vh;
      color: #eee;
    }
    
    .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
    
    header {
      text-align: center;
      padding: 40px 0;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    h1 {
      font-size: 2.5rem;
      background: linear-gradient(90deg, #00d9ff, #00ff88);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .subtitle { color: #888; margin-top: 10px; }
    
    .dashboard { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 30px; }
    
    .card {
      background: rgba(255,255,255,0.05);
      border-radius: 12px;
      padding: 24px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 40px rgba(0,217,255,0.2);
    }
    
    .card h2 {
      color: #00d9ff;
      font-size: 1.3rem;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .card h2::before {
      content: '';
      display: inline-block;
      width: 8px;
      height: 8px;
      background: #00ff88;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    
    .loading { color: #888; font-style: italic; }
    .error { color: #ff6b6b; }
    
    .product-item, .order-item {
      background: rgba(255,255,255,0.03);
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .price { color: #00ff88; font-weight: bold; }
    
    .status {
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.8rem;
      text-transform: uppercase;
    }
    
    .status.pending { background: #f39c12; color: #000; }
    .status.processing { background: #3498db; }
    .status.shipped { background: #9b59b6; }
    .status.delivered { background: #27ae60; }
    
    .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
    
    .stat-item {
      background: rgba(255,255,255,0.03);
      padding: 16px;
      border-radius: 8px;
      text-align: center;
    }
    
    .stat-value { font-size: 2rem; color: #00d9ff; font-weight: bold; }
    .stat-label { color: #888; font-size: 0.9rem; margin-top: 4px; }
    
    footer {
      text-align: center;
      padding: 40px 0;
      color: #666;
      margin-top: 40px;
    }
    
    .tech-stack { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-top: 10px; }
    .tech-badge { background: rgba(255,255,255,0.1); padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üè≠ TechITFactory</h1>
      <p class="subtitle">Production-Grade Kubernetes Platform</p>
    </header>
    
    <div class="dashboard">
      <div class="card">
        <h2>Products</h2>
        <div id="products"><p class="loading">Loading...</p></div>
      </div>
      
      <div class="card">
        <h2>Recent Orders</h2>
        <div id="orders"><p class="loading">Loading...</p></div>
      </div>
      
      <div class="card">
        <h2>Platform Stats</h2>
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-value" id="product-count">-</div>
            <div class="stat-label">Products</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="order-count">-</div>
            <div class="stat-label">Orders</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="services-count">4</div>
            <div class="stat-label">Microservices</div>
          </div>
          <div class="stat-item">
            <div class="stat-value">‚úì</div>
            <div class="stat-label">Health</div>
          </div>
        </div>
      </div>
      
      <div class="card">
        <h2>API Endpoints</h2>
        <div class="product-item"><span>GET /api/products</span><span class="status delivered">Active</span></div>
        <div class="product-item"><span>GET /api/orders</span><span class="status delivered">Active</span></div>
        <div class="product-item"><span>GET /health</span><span class="status delivered">Active</span></div>
        <div class="product-item"><span>GET /metrics</span><span class="status delivered">Active</span></div>
      </div>
    </div>
    
    <footer>
      <p>Built with ‚ù§Ô∏è for the Production-Grade DevOps Course</p>
      <div class="tech-stack">
        <span class="tech-badge">Kubernetes</span>
        <span class="tech-badge">ArgoCD</span>
        <span class="tech-badge">Terraform</span>
        <span class="tech-badge">Prometheus</span>
        <span class="tech-badge">Grafana</span>
      </div>
    </footer>
  </div>
  
  <script>
    const API_BASE = '';
    
    async function fetchProducts() {
      try {
        const res = await fetch(`${API_BASE}/api/products`);
        const data = await res.json();
        
        document.getElementById('product-count').textContent = data.count || data.products.length;
        document.getElementById('products').innerHTML = data.products
          .slice(0, 5)
          .map(p => `
            <div class="product-item">
              <span>${p.name}</span>
              <span class="price">$${p.price.toFixed(2)}</span>
            </div>
          `).join('');
      } catch (e) {
        document.getElementById('products').innerHTML = '<p class="error">Unable to load products</p>';
      }
    }
    
    async function fetchOrders() {
      try {
        const res = await fetch(`${API_BASE}/api/orders`);
        const data = await res.json();
        
        document.getElementById('order-count').textContent = data.count || data.orders.length;
        document.getElementById('orders').innerHTML = data.orders
          .slice(0, 4)
          .map(o => `
            <div class="order-item">
              <span>Order #${o.id} - ${o.product_name}</span>
              <span class="status ${o.status}">${o.status}</span>
            </div>
          `).join('');
      } catch (e) {
        document.getElementById('orders').innerHTML = '<p class="error">Unable to load orders</p>';
      }
    }
    
    fetchProducts();
    fetchOrders();
    
    // Auto-refresh every 30 seconds
    setInterval(() => { fetchProducts(); fetchOrders(); }, 30000);
  </script>
</body>
</html>
